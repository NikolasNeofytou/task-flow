# Message Viewer Tracking - Visual Reference

## ğŸ“¸ UI Examples

### Basic Message with Timestamp
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Alex Chen                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Hey team, check out the new     â”‚ â”‚
â”‚ â”‚ feature I just pushed!          â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ ğŸ• 5m ago                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Message with Viewers
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sarah Kim                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ The design looks great! I'll    â”‚ â”‚
â”‚ â”‚ start implementation today.     â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ ğŸ• 2h ago  ğŸ‘ï¸ 4                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Your Own Message (No Viewer Badge)
```
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Thanks! Looking     â”‚
                   â”‚ forward to it.      â”‚
                   â”‚                     â”‚
                   â”‚ ğŸ• Just now         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   You
```

## ğŸ“‹ Dialog Views

### Full Timestamp Dialog
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Message Timestamp                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚ Sent:                              â”‚
â”‚ Dec 9, 2025 at 2:30 PM            â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      [Close]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Viewer List Dialog
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘ï¸ Viewed by 4                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  (A)  Alex Chen               âœ“   â”‚
â”‚       Dec 9, 2025 at 2:32 PM      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  (S)  Sarah Kim               âœ“   â”‚
â”‚       Dec 9, 2025 at 2:35 PM      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  (M)  Mike Johnson            âœ“   â”‚
â”‚       Dec 9, 2025 at 2:38 PM      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  (J)  Jane Doe                âœ“   â”‚
â”‚       Dec 9, 2025 at 2:40 PM      â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      [Close]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Message Footer Layout

### Without Viewers
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Message content]    â”‚
â”‚                      â”‚
â”‚ ğŸ• 15m ago           â”‚ â† Timestamp only
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### With Viewers
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Message content]    â”‚
â”‚                      â”‚
â”‚ ğŸ• 1h ago  ğŸ‘ï¸ 7      â”‚ â† Timestamp + Viewer count
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## â° Timestamp Format Examples

| Time Elapsed | Display Format |
|--------------|----------------|
| < 1 minute   | Just now       |
| 1-59 minutes | Xm ago         |
| 1-23 hours   | Xh ago         |
| 1 day        | Yesterday      |
| 2-6 days     | Xd ago         |
| 7+ days      | Dec 9          |

### Full Timestamp Format
- Format: `[Month] [Day], [Year] at [Hour]:[Minute] [AM/PM]`
- Example: `Dec 9, 2025 at 2:30 PM`

## ğŸ¯ Interaction Flow

### Viewing a Message
```
1. Message appears on screen
   â†“
2. 500ms delay (reading time)
   â†“
3. Automatically marked as viewed
   â†“
4. Socket event sent to backend
   â†“
5. Backend broadcasts to channel
   â†“
6. All clients update viewer count
```

### Checking Who Viewed
```
1. User sees viewer count: ğŸ‘ï¸ 4
   â†“
2. Taps on viewer count
   â†“
3. Dialog opens with list
   â†“
4. Shows all viewers with timestamps
   â†“
5. User taps "Close"
```

### Checking Full Timestamp
```
1. User sees relative time: ğŸ• 2h ago
   â†“
2. Taps on timestamp
   â†“
3. Dialog opens
   â†“
4. Shows full date and time
   â†“
5. User taps "Close"
```

## ğŸ¨ Color Scheme

### For Own Messages (Blue Background)
- **Timestamp text**: White at 70% opacity
- **Icon color**: White at 70% opacity
- **Viewer count**: White at 70% opacity

### For Other Messages (Gray Background)
- **Timestamp text**: OnSurfaceVariant color
- **Icon color**: OnSurfaceVariant color
- **Viewer count**: OnSurfaceVariant color

## ğŸ“ Spacing & Sizing

### Message Footer
- **Padding**: 
  - Left/Right: AppSpacing.md (16px)
  - Top: AppSpacing.xs (4px)
  - Bottom: AppSpacing.sm (8px)
- **Icon size**: 12px
- **Font size**: 10px (labelSmall)
- **Gap between icon and text**: 4px
- **Gap between timestamp and viewers**: AppSpacing.xs (4px)

### Dialog Elements
- **Title icon size**: 20px
- **Avatar size**: 40px (default CircleAvatar)
- **Check icon size**: 16px
- **List item separator**: Divider widget

## ğŸ” Visual Hierarchy

### Priority Order (Top to Bottom)
1. **Author name** - Medium weight, larger text
2. **Message content** - Normal weight, body text
3. **Timestamp + Viewers** - Small weight, subtle color

### Interactive Elements
- Both timestamp and viewer count are **tappable**
- Visual feedback: `InkWell` with border radius
- Hover/tap shows ripple effect

## ğŸ“± Responsive Behavior

### Small Screens
- Message footer remains visible
- Dialogs scale to fit screen
- Viewer list scrolls if needed

### Large Screens
- Same layout, better spacing
- Dialogs don't stretch too wide (`maxFinite`)
- Better touch targets

## â™¿ Accessibility

### Screen Reader Support
- **Timestamp**: "Sent 5 minutes ago, tap for full timestamp"
- **Viewer count**: "Viewed by 4 people, tap for details"
- **Viewer list**: "Alex Chen viewed at December 9, 2025 at 2:32 PM"

### Touch Targets
- Minimum 44x44 dp touch area
- Padding around interactive elements
- Clear visual feedback

## ğŸ­ Animation & Transitions

### Viewer Count Update
```
ğŸ‘ï¸ 3 â†’ ğŸ‘ï¸ 4
   â†“
Subtle fade-in for new count
No jarring changes
```

### Dialog Appearance
```
Standard Material dialog transition:
- Fade in background
- Scale up dialog
- Smooth animation (300ms)
```

## ğŸ’¡ Best Practices

### When to Check Viewers
âœ… **Good use cases:**
- Important announcements
- Action items
- Critical information
- File shares

âŒ **Avoid checking for:**
- Casual chat
- Every single message
- Small talk

### Privacy Consideration
- Viewer tracking is **opt-in** by nature (automatic but transparent)
- Users can see who viewed **any** message
- No hidden tracking or surveillance feel
- Clear, honest communication of feature

## ğŸ”„ Real-time Updates

### Scenario: Multiple Users Viewing
```
Time: 2:30 PM - Message sent
      ğŸ‘ï¸ 0

Time: 2:32 PM - Alex views
      ğŸ‘ï¸ 1

Time: 2:35 PM - Sarah views
      ğŸ‘ï¸ 2

Time: 2:38 PM - Mike views
      ğŸ‘ï¸ 3

All updates happen instantly via socket events!
```

## ğŸ¬ Complete Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChatThread: Project Alpha                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ Alex Chen                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Can someone review the PR?                  â”‚ â”‚
â”‚ â”‚                                             â”‚ â”‚
â”‚ â”‚ ğŸ• 10m ago  ğŸ‘ï¸ 5                            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚                        Sarah Kim                â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                 â”‚ I'll check it now!          â”‚ â”‚
â”‚                 â”‚                             â”‚ â”‚
â”‚                 â”‚ ğŸ• 8m ago  ğŸ‘ï¸ 3             â”‚ â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚                                          You    â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                 â”‚ Thanks Sarah!               â”‚ â”‚
â”‚                 â”‚                             â”‚ â”‚
â”‚                 â”‚ ğŸ• Just now                 â”‚ â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“] [ğŸ¤] [Type here...        ] [Send]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
